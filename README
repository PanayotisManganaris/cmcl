This folder contains the DFT datasets ('PBE_data.csv' and 'HSE_data.csv') for training the ML models, and scripts for training three types of ML models: random forest (RFR.py), Gaussian process (GPR.py) and neural network (NN.py) regression.

PBE_data.csv: Contains 550 data points. First 2 columns are the identifiers, chemical formula and type of mixing. Next 6 columns are properties computed at the GGA-PBE level of theory: lattice constant (PBE_latt), band gap (PBE_gap), formation energy (PBE_form, w.r.t. elemental std. states), decomposition energy (PBE_decomp, w.r.t. halide compounds), static electronic dielectric constant (PBE_eps), and PV figure of merit (PBE_fom). The next 14 columns are composition-only descriptors. The next 36 columns are descriptors based on elemental properties (12 for A, B and X sites). We train 4 ML models here, for PBE_latt, PBE_gap, PBE_decomp, and PBE_fom. 

HSE_data.csv: Contains 298 data points. First 2 columns are the identifiers, chemical formula and type of mixing. Next 4 columns are properties computed at the hybrid HSE06 level of theory: lattice constant (HSE_latt), band gap (HSE_gap), formation energy (HSE_form, w.r.t. elemental std. states), and decomposition energy (HSE_decomp, w.r.t. halide compounds). The next 14 columns are composition-only descriptors. The next 36 columns are descriptors based on elemental properties (12 for A, B and X sites). We train 3 ML models here, for HSE_latt, HSE_gap, and HSE_decomp.

In any script (RFR.py, GPR.py, NN.py), select (1) choice of PBE or HSE data, and (2) one of three choices for descriptors. Change the value of "t" under Training-Test Split if you want to use something other than 20% of the data as unseen test points. Take a look at the RFR/GPR/NN hyperparameter grids, change values / enhance grid as desired.

Outside predictions: create a file called 'Outside.csv', where first column is an identifier (formula), next 14 columns are composition descriptors, and next 36 columns are elemental descriptors. The labels of all 50 descriptors are included in the file 'Descriptor_labels.csv'. The compositional descriptors (Comp_desc) are simply fractions of K, Rb, Cs, MA, FA, Pb, Sn, Ge, Ba, Sr, Ca, I, Br, and Cl, where the A and B atom fractions should be between 0 and 1 and the X atom fractions should be between 0 and 3. Make sure the 5 A dimensions and the 6 B dimensions sum up to 1, and the 3 X dimensions sum up to 3. The 36 elemental descriptors are weighted averages of the different elemental properties at each site. Also included is a file called 'Tabulated_elemental_properties.xlsx' that can be used to prepare the 36-dimensional elemental descriptors for any new composition.

Overall ML performance may be improved by removing specific data points which are problematic.